<!doctype html><html lang=ja><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>ブログをはてなからGithub Pageに移したお話 - レンコン畑でつかまえて</title><meta content=ブログをはてなブログからDenoおよびLumeを使用した静的サイトジェネレータに移行します name=description><link href=/pagefind/pagefind-ui.css rel=stylesheet><link href=/styles.css rel=stylesheet><link href=/feed.xml rel=alternate title=レンコン畑でつかまえて type=application/atom+xml><link href=/feed.json rel=alternate title=レンコン畑でつかまえて type=application/json><script src="https://www.googletagmanager.com/gtag/js?id=G-1F9LYQGGMB" async></script><script>window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-1F9LYQGGMB');</script><script src=/pagefind/pagefind-ui.js></script><script>window.addEventListener('DOMContentLoaded',()=>{new PagefindUI({"element":"#search","showImages":false,"excerptLength":0,"showEmptyFilters":true,"showSubResults":false,"resetStyles":false,"bundlePath":"/pagefind/","baseUrl":"/"});});</script><body><nav class=navbar><a class=navbar-home href=/> <strong>レンコン畑でつかまえて</strong> </a><ul class=navbar-links><li><a href=/> Home </a><li><a href=/posts/> Archive </a><li><a href=https://about.jyuch.dev/> About Me </a></ul><div class=navbar-search><div id=search></div></div></nav><main class=body-post><article class=post data-pagefind-body><div class=post-header><h1 class=post-title>ブログをはてなからGithub Pageに移したお話</h1><nav class=post-tags><a class=tag href=/tags/deno/>deno</a><a class=tag href=/tags/lume/>lume</a></nav><time datetime="2022-10-15 00:00:00" class=post-date> October 15th, 2022 </time></div><div class=post-body><h2>はじめに</h2><p>GitHub Pageからこんにちは。どうも弊社です。<p>実は数年前から独自ドメイン<code>jyuch.dev</code>を所持しており、独自ドメインでブログをやるついでにはてなブログからGitHub Pageに移したいと考えていました。<p>それとは別に最近ちょくちょく<a href=https://deno.land/>Deno</a>を触っており、Denoで動く静的サイトジェネレータである<a href=https://lume.land/>Lume</a>がいい感じそうだったので勢いでブログを移行してしまおうというお話です。<h2>テンプレートから作成</h2><p>とはいえ弊社はフロントエンド周りに詳しいわけではないので、とりあえずテンプレートをベースに作って後々いい感じに調整していきたいと思います。<p><a href=https://github.com/lumeland/base-blog>lumeland/base-blog</a><p>テンプレートをプルしてきたらとりあえず<code>_data/site.yml</code>をいじっていい感じにします。 <code>title</code>がブログ名になるのでとりあえずここだけ変えておけばいいのではないでしょうか。<p>あとは以下のコマンドでサーバが起動するので、<a href=http://localhost:3000>http://localhost:3000</a>にアクセスするとなんかいい感じのページが見えるようになると思います。<pre><code class="language-sh hljs language-bash">deno task serve
</code></pre><h2>GitHub Action の設定</h2><p><code>.github/workflow/build.yml</code>にGitHub Actionの設定があるので、以下の部分を自分の環境に合わせて書き直します。<pre><code class="language-yaml hljs"><span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Build</span> <span class=hljs-string>site</span>
  <span class=hljs-attr>run:</span> <span class=hljs-string>|
    deno task build --location=https://www.jyuch.dev/
</span></code></pre><p>あとはGitHubにプッシュするだけでいい感じにGitHub Workflowが動いて<code>gh-pages</code>ブランチにビルド結果が展開されるので、設定からGitHubのページとして<code>ph-pages</code>を使うように設定すれば完了です。<h2>Netlify CMSの削除</h2><p>CMSは使わないつもりなので、デフォルトで入っているNetlify CMSは消しておきます。<p>また、<code>_config.ts</code>から<code>.use(netlifyCMS())</code>の記述を消しておきます。<h2>おわりに</h2><p>フォントサイズとか調整したいところはいろいろあるのですが、いきなり100%の完成度を求めてもｱﾚですし、個人ブログなのでその辺はちょくちょく手を入れていこうと思います。<p>おわり</div></article><hr><nav class=post-navigation><ul><li>← Previous: <a href=/posts/2021/pg-statistics-collector/ rel=prev>PostgreSQLでも統計情報を確認したい</a><li><strong>Next: <a href=/posts/2022/build-container-image-in-k3s-using-buildkit/ rel=next>k3sでもBuildKitを使用してイメージをビルドしたい</a> →</strong></ul></nav></main><footer><div><a href=/feed.xml> <svg viewbox="0 0 16 16" height=16 width=16 xmlns=http://www.w3.org/2000/svg><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"></path></svg> </a></div></footer>