<!doctype html><html lang=ja><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>メインPCを更新したお話 - レンコン畑でつかまえて</title><meta content=更新したメインPCを紹介します。 name=description><link href=/pagefind/pagefind-ui.css rel=stylesheet><link href=/styles.css rel=stylesheet><link href=/feed.xml rel=alternate title=レンコン畑でつかまえて type=application/atom+xml><link href=/feed.json rel=alternate title=レンコン畑でつかまえて type=application/json><script src=/pagefind/pagefind-ui.js></script><script>window.addEventListener('DOMContentLoaded',()=>{new PagefindUI({"element":"#search","showImages":false,"excerptLength":0,"showEmptyFilters":true,"showSubResults":false,"resetStyles":false,"bundlePath":"/pagefind/","baseUrl":"/"});});</script><body><nav class=navbar><a class=navbar-home href=/> <strong>レンコン畑でつかまえて</strong> </a><ul class=navbar-links><li><a href=/> Home </a><li><a href=/posts/> Archive </a><li><a href=https://about.jyuch.dev/> About Me </a></ul><div class=navbar-search><div id=search></div></div></nav><main class=body-post><article class=post data-pagefind-body><div class=post-header><h1 class=post-title>メインPCを更新したお話</h1><nav class=post-tags><a class=tag href=/tags/poem/>poem</a></nav><time datetime="2025-05-15 00:00:00" class=post-date> May 15th, 2025 </time></div><div class=post-body><h1>はじめに</h1><p>メインPCを更新したのでそのことについてです。<h1>モチベーション</h1><p>使っているメインPCは大体7年前位に購入したもので、以下の問題を抱えていました。<ul><li>Windows 11のサポート対象外で2025年10月以降は実質使えなくなる<li>検証用に仮想マシンをいくつか立ち上げた時に、CPUの処理が明らかに追いついていない時がある<li>モンハンワイルズが動かない</ul><p>特にWindows 11のサポート対象外は流石にまずいので、直前に慌てるよりは少し余裕を持って更新しようというのが動機となります。<h1>次期PCに求める要件</h1><p>現行PCは主に検証用に仮想マシンを立てる使い方をしており、その使い方は踏襲します。 また、瞬発的な処理能力も欲しいところです。<p>そのため、次期PCに求める要件は以下の通りとなりました。<ul><li>CPU <ul><li>なるべく高い周波数で動作するマルチコアなCPUを採用する</ul><li>メモリ <ul><li>現行PCの倍となる128GBを最低とする</ul><li>ストレージ <ul><li>OSを格納する高速で動作するプライマリストレージ<li>仮想マシンを格納するSSDベースのセカンダリストレージ<li>アーカイブを格納するHDDベースの大容量ストレージ</ul></ul><p>こんな変な構成のPCは市販どころかBTOでも組めなさそうなので当然のように自作することになります。<h1>選定パーツ</h1><p>要件が固まったらパーツを選定していきます。<table><thead><tr><th style=text-align:left>コンポーネント<th style=text-align:left>メーカー<th style=text-align:left>モデル<tbody><tr><td style=text-align:left>CPU<td style=text-align:left>AMD<td style=text-align:left>Ryzen™ 9 9950X<tr><td style=text-align:left>メモリ<td style=text-align:left>Crucial<td style=text-align:left>Pro 128GB Kit (64GBx2) DDR5-5600 UDIMM<tr><td style=text-align:left>プライマリストレージ<td style=text-align:left>Sandisk<td style=text-align:left>WD_BLACK SN850X 1TB<tr><td style=text-align:left>セカンダリストレージ<td style=text-align:left>Solidigm<td style=text-align:left>P41 Plus 2TB<tr><td style=text-align:left>マザーボード<td style=text-align:left>ASUS<td style=text-align:left>Prime X870-P WIFI-CSM<tr><td style=text-align:left>CPUクーラー<td style=text-align:left>ARCTIC<td style=text-align:left>Liquid Freezer III - 360<tr><td style=text-align:left>PCケース<td style=text-align:left>Fractal Design<td style=text-align:left>North XL<tr><td style=text-align:left>電源<td style=text-align:left>Corsair<td style=text-align:left>RM850e<tr><td style=text-align:left>GPU<td style=text-align:left>ASRock<td style=text-align:left>RT7800XT Challenger 16GB OC</table><h2>CPU</h2><p>最近のIntel CPUはPコアと呼ばれる高い処理能力を持つコアとEコアと呼ばれる高効率コアの二つのコアのハイブリット構成となっています。<p>理念としては理解できるのですが、どうやらVMWare Workstation Proでコア間のスケジューリングに問題を抱えているという話をちらっと聞いたり、私自身もその周りでトラブルを抱えたくないなぁという思いから今回はAMDのCPUを採用することとしました<p>特に<a href=https://www.amd.com/ja/products/processors/desktops/ryzen/9000-series/amd-ryzen-9-9950x.html>AMD Ryzen™ 9 9950X</a>は全部Pコア、コアいっぱい、高いクロック数というバカの考えた最強のCPUを地で行っており、要件的に最も近いためこちらを採用することとします。<p>なお、9950X君には上位存在の9950X3Dという3D V-Cacheを積んでいるモデルもありますが、売ってないものは買えないのと、別にゲーム性能はそこまで求めてないので今回は採用しませんでした。<h2>メモリ</h2><p>9950XはDDR5メモリ対応なのですが、4枚刺しだとメモリクロックが下がってしまうため出来れば2枚で運用したいところです。<p>と思いながらネットショップを徘徊していたら<a href=https://www.crucial.jp/memory/ddr5/cp2k64g56c46u5>Crucial Pro 128GB Kit (64GBx2) DDR5-5600 UDIMM</a>の在庫が復活していたのでお買い上げしました。<h2>ストレージ</h2><p>プライマリストレージとして<a href="https://shop.sandisk.com/ja-jp/products/ssd/internal-ssd/wd-black-sn850x-nvme-ssd?sku=WDS100T2X0E-00BCA0">Sandisk WD_BLACK SN850X 1TB</a>、セカンダリストレージとして<a href=https://www.solidigmtechnology.jp/products/client/plus-series/p41.html>Solidigm P41 Plus 2TB</a>を選択しました。<p>ターシャリのHDDは家で余っていた4TBのHDDをWindows記憶域で2本ミラーで束ねて使っています。<h2>マザーボード</h2><p>上記のCPU、メモリ、ストレージが刺さるマザーボードで必要十分な性能を持つ（と思った）<a href=https://www.asus.com/jp/motherboards-components/motherboards/csm/prime-x870-p-wifi-csm/>ASUS Prime X870-P WIFI-CSM</a>を採用します。<h2>CPUクーラー</h2><p>AMDのデータシート曰く、<blockquote><p>Liquid cooler recommended for optimal performance</blockquote><p>とのことなので、今回は簡易水冷クーラーを投入することとしました。<p>簡易水冷は消耗部品ということらしいので、そこそこの値段で評判のよさそうな<a href=https://www.arctic.de/en/Liquid-Freezer-III-360/ACFRE00136A>ARCTIC Liquid Freezer III - 360</a>を採用します。<p>なお、このモデルはクーラーヘッドの上に周辺パーツの冷却用のファンが載っているのですが、マザーボードによっては干渉してしまうこともあるようなので事前に確認してから買うと良いと思います。<p>また、私が買ったときはCPUグリスのMX6が添付されていましたので、確認してから買うと無駄に別途CPUグリスを買ってしまう悲劇をさけられると思います。（1敗）<h2>PCケース</h2><p>今回採用した簡易水冷クーラーのラジエータサイズが360mmと大型なので、このラジエータを無理なく納められるケースとして<a href=https://www.fractal-design.com/ja/products/cases/north/north-xl/chalk-white/>Fractal Design North XL</a>を採用しました。<p>見た目もいいかんじです。<h2>電源</h2><p>電源は今まで使ってきて安心感のあるCorsairから選びました。<p>多分850Wあれば足りるだろうということで<a href=https://www.corsair.com/jp/ja/p/psu/cp-9020296-jp/rme-series-rm850e-fully-modular-low-noise-atx-power-supply-jp-cp-9020296-jp>Corsair RM850e</a>をチョイス。<h2>GPU</h2><p>なんとなく目についたので<a href=https://asrock.com/Graphics-Card/AMD/Radeon%20RX%207800%20XT%20Challenger%2016GB%20OC/index.jp.asp>ASRock RT7800XT Challenger 16GB OC</a>をチョイス。<p>Challengerとはどの立ち位置のブランドなのか、オーバークロックだと何が変わるのか、何も分からずに使っています。<p>モンハンが動けばいいんすよ<h1>組み立て</h1><p>North XLはサイズは大きいですが内部の容積も大きく、大型の簡易水冷でも無理なく取り回せます。 そのため、初めて簡易水冷で組みましたがとくにトラブルも無く組むことが出来ました。<h2>好きなインシュロック発表ドラゴン</h2><p>マザーボードなどのパーツには結束バンドが何本か添付されていますが、今回の組み立てでは別途購入した<a href=https://www.hellermanntyton.co.jp/product/cabletie/a01_ab/ab_w.html>AB80-W</a>を使用しました。 ホームセンターでも一つ300円程度で売られていると思います。<p>たくさん用意しておくとケーブルのハンドリングをするのに気兼ねなく使えます。 また、PCケースにケーブルを固定する際にも先端に角度が付けられているので結束しやすいという利点もあります。<p>今回の組み立て作業時の組み立てやすさの何割かはインシュロックに助けられている部分があるので、個人的にはおすすめのPCパーツ（？）です。<h2>初回起動時の起動時間</h2><p>容量の大きなメモリを積むと初回起動時に画面が表示されるまで時間が掛かると言われていましたが、この構成ではたしか10分位で最初の表示が行われていたと思います。<h1>インストール</h1><p>あとは普通にWindowsとドライバをインストールすれば完了です。<p>ドライバはASUS DriverHubというものでマザーボード用ドライバをインストールした後、AMD Software: Adrenalin Edition経由でチップセットドライバとグラボドライバを更新しました。 これが正しい手順かどうかはよくわかっていません。<h1>ベンチマーク</h1><p>最後に性能を測ります。<p>よくあるのはCinebenchですが、まぁ自作のツールでベンチマークしてもいいよねって事で<a href=/posts/2025/01-02-shrink-image-size-using-rust/>自作の画像変換ツール</a>の処理時間で確認してみましょう。<pre><code class="language-txt hljs language-plaintext">> Measure-Command { cwebp.exe -i .\input\ -o .\output\ }


Days              : 0
Hours             : 0
Minutes           : 10
Seconds           : 52
Milliseconds      : 837
Ticks             : 6528379424
TotalDays         : 0.0075559947037037
TotalHours        : 0.181343872888889
TotalMinutes      : 10.8806323733333
TotalSeconds      : 652.8379424
TotalMilliseconds : 652837.9424
</code></pre><pre><code class="language-txt hljs language-plaintext">> Measure-Command { cwebp.exe -i .\input\ -o .\output\ }


Days              : 0
Hours             : 0
Minutes           : 3
Seconds           : 2
Milliseconds      : 843
Ticks             : 1828432412
TotalDays         : 0.00211624121759259
TotalHours        : 0.0507897892222222
TotalMinutes      : 3.04738735333333
TotalSeconds      : 182.8432412
TotalMilliseconds : 182843.2412
</code></pre><p>同じ画像セットに対して処理を行いました。 11分から3分と大体3.6倍の性能向上となっています。<p>なお、9950Xの方はCPUの使用率が30～50%のあたりをうろうろしていました。 この辺は私の作りこみが甘い部分があるのでもう少し頑張ればもっと性能差は開きそうです。<h1>おわりに</h1><p>これからはこのメインPC君にいろいろ頑張ってもらいましょう。<p>おわり</div></article><hr><nav class=post-navigation><ul><li>← Previous: <a href=/posts/2025/01-19-determine-color-or-monochrome/ rel=prev>Rustでも画像がカラーかモノクロか判別したい</a><li><strong>Next: <a href=/posts/2025/07-04-saa-c03/ rel=next>AWS Certified Solutions Architect - Associateに合格したお話</a> →</strong></ul></nav></main><footer><div><a href=/feed.xml> <svg viewbox="0 0 16 16" height=16 width=16 xmlns=http://www.w3.org/2000/svg><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"></path></svg> </a></div></footer>