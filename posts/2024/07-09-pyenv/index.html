<!doctype html><html lang=ja><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Windowsでもpyenvを使いたい - レンコン畑でつかまえて</title><meta content=pyenv-winの紹介です name=description><link href=/pagefind/pagefind-ui.css rel=stylesheet><link href=/styles.css rel=stylesheet><link href=/feed.xml rel=alternate title=レンコン畑でつかまえて type=application/atom+xml><link href=/feed.json rel=alternate title=レンコン畑でつかまえて type=application/json><script src=/pagefind/pagefind-ui.js></script><script>window.addEventListener('DOMContentLoaded',()=>{new PagefindUI({"element":"#search","showImages":false,"excerptLength":0,"showEmptyFilters":true,"showSubResults":false,"resetStyles":false,"bundlePath":"/pagefind/","baseUrl":"/"});});</script><body><nav class=navbar><a class=navbar-home href=/> <strong>レンコン畑でつかまえて</strong> </a><ul class=navbar-links><li><a href=/> Home </a><li><a href=/posts/> Archive </a><li><a href=https://about.jyuch.dev/> About Me </a></ul><div class=navbar-search><div id=search></div></div></nav><main class=body-post><article class=post data-pagefind-body><div class=post-header><h1 class=post-title>Windowsでもpyenvを使いたい</h1><nav class=post-tags><a class=tag href=/tags/python/>python</a></nav><time datetime="2024-07-09 00:00:00" class=post-date> July 9th, 2024 </time></div><div class=post-body><h1>はじめに</h1><p>Pythonの特定のバージョンをグローバルに影響させたくないのでpyenv-winを使っているのですが、セットアップをよく忘れるのでそれについてです。<h1>初回セットアップ</h1><p>pyenv-winをホームディレクトリにクローンします。<pre><code class="language-sh hljs language-bash">git <span class=hljs-built_in>clone</span> git@github.com:pyenv-win/pyenv-win.git .pyenv
</code></pre><p>そうしたら以下の環境変数を設定します。<table><thead><tr><th style=text-align:left>環境変数<th style=text-align:left>値<tbody><tr><td style=text-align:left><code>PYENV</code><td style=text-align:left><code>%USERPROFILE%\.pyenv\pyenv-win</code><tr><td style=text-align:left><code>PYENV_HOME</code><td style=text-align:left><code>%USERPROFILE%\.pyenv\pyenv-win</code><tr><td style=text-align:left><code>PYENV_ROOT</code><td style=text-align:left><code>%USERPROFILE%\.pyenv\pyenv-win</code></table><p>また、以下の2つを<code>PAHT</code>に追加します。<ul><li><code>%USERPROFILE%\.pyenv\pyenv-win\bin</code><li><code>%USERPROFILE%\.pyenv\pyenv-win\shims</code></ul><p>また、「設定 > アプリ > アプリの詳細設定 > アプリ実行エイリアス」から<code>python.exe</code>と<code>python3.exe</code>をオフにします。<p>アプリ実行エイリアス君は再起動しないと効かないっぽいのでいったん再起動します。<h1>Pythonランタイムのインストール</h1><pre><code class="language-sh hljs language-bash">pyenv install --list
</code></pre><p>でインストール可能なPythonバージョンを表示させ、<pre><code class="language-sh hljs language-bash">pyenv install 3.11.9
</code></pre><p>でインストールします。<h1>ローカルフォルダのセットアップ</h1><p>ローカルフォルダで使うPythonのバージョンをセットアップします。<pre><code class="language-sh hljs language-bash">pyenv <span class=hljs-built_in>local</span> 3.11.9
</code></pre><p>そうしたらvenv環境を作成します。<pre><code class="language-sh hljs language-bash">python -m venv .venv
</code></pre><p>venv環境を有効にします。<pre><code class="language-sh hljs language-bash">.\.venv\Scripts\Activate.ps1
</code></pre><p>いったんpipを最新版に更新します。<pre><code class="language-sh hljs language-bash">python -m pip install --upgrade pip
</code></pre><h1>パッケージのインストール</h1><p>パッケージのインストール。<pre><code class="language-sh hljs language-bash">pip install polars
</code></pre><p>インストール済みのパッケージを出力。<pre><code class="language-sh hljs language-bash">pip freeze > requirements.txt
</code></pre><p><code>requirements.txt</code>ファイルからインストール。<pre><code class="language-sh hljs language-bash">pip install -r requirements.txt
</code></pre><p>一括アンインストール。<pre><code class="language-sh hljs language-bash">python -m pip uninstall -y -r .\requirements.txt
</code></pre></div></article><hr><nav class=post-navigation><ul><li>← Previous: <a href=/posts/2024/06-03-advoid-dns-based-ad-blocker/ rel=prev>RustでもDNSベースのアドブロッカーを実装したい</a><li><strong>Next: <a href=/posts/2024/09-14-docker-cache/ rel=next>Docker Buildxでもキャッシュしたい</a> →</strong></ul></nav></main><footer><div><a href=/feed.xml> <svg viewbox="0 0 16 16" height=16 width=16 xmlns=http://www.w3.org/2000/svg><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"></path><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"></path></svg> </a></div></footer>